<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Forgecraft</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#0f1724; color:#fff; }
    header { background:#111827; padding:15px 30px; display:flex; justify-content:space-between; align-items:center; }
    header h1 { margin:0; font-size:22px; color:#7afcff; }
    nav a {
      color:#fff; text-decoration:none; margin-left:20px; font-weight:bold; cursor:pointer;
    }
    nav a:hover { color:#7afcff; }

    /* Ana içerik */
    .content { padding:40px; text-align:center; }
    .server-status { margin:20px auto; padding:20px; background:#1a2235; border-radius:12px; width:300px; }

    /* VIP bölümü */
    #vipSection {
      display:none; padding:40px; background:#0f1724;
    }
    .features { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px; }
    .feature {
      background:#1a2235; border-radius:12px; padding:20px; text-align:center;
      transition: transform .3s ease, box-shadow .3s ease;
    }
    .feature:hover { transform: translateY(-8px); box-shadow:0 12px 30px rgba(0,0,0,0.5); }
    .feature input {
      width: 90%; padding:8px; margin:10px 0; border-radius:8px;
      border:1px solid #444; outline:none; text-align:center;
    }
    .btn {
      display:inline-block; margin-top:6px; padding:10px 16px; border-radius:8px;
      background:linear-gradient(90deg,#0ea5a7,#7afcff); color:#021226; font-weight:700;
      text-decoration:none; cursor:pointer; border:none;
    }
    .btn:active { transform:scale(.95); }
  </style>
</head>
<body>

<header>
  <h1>Forgecraft</h1>
  <nav>
    <a onclick="showVip()">VIP</a>
    <a href="https://seninforumadresin.com" target="_blank">Forum</a>
  </nav>
</header>

<div class="content">
  <h2>Sunucuya Katıl!</h2>
  <div class="server-status" id="server-status">
    Sunucu durumu yükleniyor...
  </div>
</div>

<!-- VIP Bölümü -->
<div id="vipSection">
  <h2 style="text-align:center;">Forgecraft VIP Paketleri</h2>
  <section class="features">
    <div class="feature">
      <h3>VIP Bronze</h3>
      <p>Haftalık kit, VIP etiketi.</p>
      <input type="text" placeholder="Minecraft kullanıcı adın" id="bronzeUser">
      <button class="btn" onclick="buyVip('bronze','bronzeUser')">Al (Bedava Giriş)</button>
    </div>
    <div class="feature">
      <h3>VIP Silver</h3>
      <p>Bronze + market indirimleri.</p>
      <input type="text" placeholder="Minecraft kullanıcı adın" id="silverUser">
      <button class="btn" onclick="buyVip('silver','silverUser')">Satın Al</button>
    </div>
    <div class="feature">
      <h3>VIP Gold</h3>
      <p>Silver + kozmetik efektler.</p>
      <input type="text" placeholder="Minecraft kullanıcı adın" id="goldUser">
      <button class="btn" onclick="buyVip('gold','goldUser')">Satın Al</button>
    </div>
    <div class="feature">
      <h3>VIP Diamond</h3>
      <p>Tüm avantajlar + özel kanal.</p>
      <input type="text" placeholder="Minecraft kullanıcı adın" id="diamondUser">
      <button class="btn" onclick="buyVip('diamond','diamondUser')">Satın Al</button>
    </div>
  </section>
</div>

<script>
// VIP açma
function showVip(){
  document.getElementById("vipSection").style.display = "block";
  window.scrollTo(0, document.getElementById("vipSection").offsetTop);
}

// VIP alımı
function buyVip(type, inputId){
  const username = document.getElementById(inputId).value.trim();
  if(!username){
    alert("Lütfen kullanıcı adını gir!");
    return;
  }
  fetch("http://127.0.0.1:5000/vip", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ vip: type, user: username })
  })
  .then(r => r.text())
  .then(msg => alert("VIP işlemi: " + msg))
  .catch(err => alert("Hata: " + err));
}

// mcsrvstat API
async function loadStatus(){
  try {
    const res = await fetch("https://api.mcsrvstat.us/2/play.forgecraft.com");
    const data = await res.json();
    const box = document.getElementById("server-status");
    if(data.online){
      box.innerHTML = `<b>Sunucu Açık!</b><br>Oyuncular: ${data.players.online}/${data.players.max}`;
    } else {
      box.innerHTML = "<b>Sunucu Kapalı</b>";
    }
  } catch(e){
    document.getElementById("server-status").innerText = "Durum alınamadı.";
  }
}
loadStatus();
</script>

</body>
</html>

